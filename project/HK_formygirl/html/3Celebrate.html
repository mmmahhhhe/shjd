<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>To Flora</title>
    <link rel="shortcut icon" href="../static/favicon.png">
    <link rel="stylesheet" href="../static/css/birthday-cake.css" media="screen" type="text/css"/>
    <link href="../static/css/section5.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.8.8/jquery.fullPage.min.css" rel="stylesheet">

</head>


<body>

<div id="fullPage">
    <div class="section section5">

        <div id="celebrate_text" class="text-box-celebrate">
            <p>許願吧!希望你喜歡與開心!</p>
            <p>謝謝您打開哂甘多個盒!</p>
        </div>

        <div id="wrapper">
            <div id="candle-1" class="candle small">
                <div class="eye"></div>
                <div class="eye"></div>
                <div class="flame"></div>
            </div>
            <div class="flame-halo"></div>
            <div id="candle-2" class="candle">
                <div class="eye"></div>
                <div class="eye"></div>
                <div class="mouth"></div>
            </div>
        </div>
    </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.8.2/jquery.fullPage.min.js"></script>
<script src='http://css-tricks.com/examples/BlurredText/js/jquery.lettering.js'></script>
<script src="../static/js/section2.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/1.1.4/typed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        var t1 = new TimelineMax({
            repeat: -1
        });

        $('#fullPage').fullpage({
            afterLoad: function (link, index) {
                switch (index) {

                    case 1:

                        c1 = $('#candle-1'),
                            c2 = $('#candle-2'),
                            f = c1.find('.flame'),
                            m = c2.find('.mouth'),

                            fTween = TweenMax.to(f, 0.3, {
                                width: 27,
                                backgroundColor: 'yellow',
                                repeat: -1,
                                yoyo: true
                            });

                        if ((t1.progress() > 0) && (t1.progress() < 1)) {
                            t1.progress(0);
                        } else {
                            t1.add(
                                [
                                    TweenMax.to(c2, 0.1, {
                                        scale: 1.2,
                                        transformOrigin: "center bottom"
                                    }),
                                    TweenMax.to(m, 0.7, {
                                        scale: 5,
                                        transformOrigin: "center center",
                                        force3D: false
                                    })
                                ]
                            ).add(
                                [
                                    TweenMax.to(c2, 0.7, {
                                        scale: 1,
                                        transformOrigin: "center bottom"
                                    }),
                                    TweenMax.to(m, 0.7, {
                                        scale: 1.1,
                                        transformOrigin: "center center",
                                        force3D: false
                                    })
                                ]
                            ).to(m, 1, {
                                width: 100,
                                borderRadius: 0,
                                x: -300,
                                autoAlpha: 0
                            }, 1.2)
                                .to(c1, 0.3, {
                                    x: -3,
                                    repeat: 4,
                                    yoyo: true
                                }, 1.3)
                                .to([f, '.flame-halo'], 0.1, {
                                    autoAlpha: 0,
                                    scale: 0.5
                                }, 1.3)
                                .add([
                                    TweenMax.to(c1, 1, {
                                        height: "-=20",
                                        scaleX: 1.2,
                                        backgroundColor: "#FFCCCC",
                                        transformOrigin: "center center"
                                    }),
                                    TweenMax.to(c1.find('.eye'), 1, {
                                        height: "-=5"
                                    }),
                                ])
                                .to(c1, 0.2, {
                                    x: "+=20",
                                    repeat: 4,
                                    yoyo: true
                                }).add(
                                [
                                    TweenMax.to(f, 0.2, {
                                        autoAlpha: 1,
                                        scale: 1.2
                                    })

                                ]
                            ).add(
                                [
                                    TweenMax.to(c1, 0.5, {
                                        height: "+=20",
                                        scaleX: 1,
                                        x: "-=20",
                                    })

                                ]
                            )
                        }
                        break;

                    default:
                        break;
                }
            },

            onLeave: function (link, index) {
                switch (index) {

                    default:
                        break;
                }
            }
        });

        $('.q1').delay(1000).fadeIn(300).delay(2000).fadeOut(300, function () {
            $('.q2').delay(1000).fadeIn(300).delay(2500).fadeOut(300, function () {
                $('.quotes').fadeOut(300);
                $('.main-section').delay(1000).fadeIn(300, function () {

                });
            });
        });
    });

    $('audio')[0].volume = 0.4;

    $("#top").lettering();
    $("#bottom").lettering();

</script>
<audio src="../static/music/3生日快乐.mp3" autoplay="autoplay" loop="loop"></audio>

</body>
</html>
